<form class="container" [formGroup]="priceForm">
  <!-- Token choice -->
  <div class="row justify-content-center">
    <div class="col-10 col-lg-7">
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Choose token</mat-label>
        <mat-select formControlName="token">
          <mat-option *ngFor="let t of tokenList" [value]="t.tokenId">{{ t.name }} ({{ t.symbol }})</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <!-- Amount -->
  <div class="row justify-content-center">
    <div class="col-10 col-lg-7">
      <p [ngClass]="{ 'mb-0': !paymentConversion.data.usdAmount }">
        <mat-form-field class="w-100 text-dark" appearance="outline">
          <mat-label> Amount</mat-label>
          <input formControlName="amount" type="number" class="ps-4" matInput placeholder="Amount" />
          <div matSuffix>
            <h6 class="mb-0 pe-3">
              <ng-container *ngIf="!usdEnabled && tokenSelected">{{ tokenSelected.symbol }}</ng-container>
              <ng-container *ngIf="usdEnabled">$USD</ng-container>
            </h6>
          </div>
          <mat-hint *ngIf="!usdEnabled && paymentConversion.data.usdAmount && paymentConversion.data.usdAmount > 0">
            <ng-container *ngIf="!paymentConversion.loading"> ${{ paymentConversion.data.usdAmount }} </ng-container>
            <ng-container *ngIf="paymentConversion.loading">
              <ngx-skeleton-loader count="1" [theme]="{ width: '6rem', margin: 0 }"></ngx-skeleton-loader>
            </ng-container>
            <i (click)="swapCurrency.emit()" class="bi bi-arrow-left-right px-2 btn py-0 px-1"></i>
          </mat-hint>
          <mat-hint *ngIf="usdEnabled && paymentConversion.data.tokenAmount && paymentConversion.data.tokenAmount > 0">
            <ng-container *ngIf="!paymentConversion.loading">
              {{ paymentConversion.data.tokenAmount }} {{ tokenSelected!.symbol }}
            </ng-container>
            <ng-container *ngIf="paymentConversion.loading">
              <ngx-skeleton-loader count="1" [theme]="{ width: '6rem', margin: 0 }"></ngx-skeleton-loader>
            </ng-container>
            <i (click)="swapCurrency.emit()" class="bi bi-arrow-left-right px-2 btn py-0 px-1"></i>
          </mat-hint>
        </mat-form-field>
      </p>
    </div>
  </div>
  <!-- Add a description textarea here -->
  <div class="row justify-content-center">
    <div class="col-10 col-lg-7">
      <mat-form-field class="w-100 text-dark" appearance="outline">
        <mat-label> Description </mat-label>
        <textarea
          formControlName="description"
          cdkTextareaAutosize
          cdkAutosizeMinRows="1"
          cdkAutosizeMaxRows="5"
          matInput
          placeholder="Description"
          maxlength="150"
          data-id="description-input"
        ></textarea>
      </mat-form-field>
    </div>
  </div>
</form>
<div class="row justify-content-center">
  <div class="col-10 col-lg-7">
    <div class="row justify-content-center mb-4">
      <div class="col-12 col-lg-6 py-2 py-lg-0">
        <app-chainbrary-button
          [buttonClasses]="['btn-secondary-gradient', 'text-white']"
          [buttonText]="'Back'"
          (callToAction)="goToPreviousPage.emit()"
        />
      </div>
      <div class="col-12 col-lg-6 py-2 py-lg-0">
        <app-chainbrary-button
          [buttonClasses]="['btn-info-gradient', 'text-white']"
          [buttonText]="'Next'"
          (callToAction)="goToNextPage.emit()"
          data-id="submit-button"
        />
      </div>
    </div>
  </div>
</div>
